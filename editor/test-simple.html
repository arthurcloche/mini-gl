<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple miniGL Test</title>
    <style>
        body {
            background: #1a1a1a;
            color: white;
            font-family: monospace;
            padding: 20px;
        }
        canvas {
            border: 1px solid #333;
            display: block;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>Simple miniGL Test</h1>
    <canvas id="canvas" width="512" height="512"></canvas>
    <div id="status"></div>
    
    <script type="module">
        import miniGL from '../lib/miniGL/miniGL.js';
        
        const status = document.getElementById('status');
        const canvas = document.getElementById('canvas');
        
        try {
            // Create miniGL instance
            const gl = new miniGL(canvas, { fps: 60 });
            status.innerHTML += '<p>✓ Created miniGL instance</p>';
            
            // Create a simple shader
            const shader = gl.shader(`#version 300 es
                precision highp float;
                uniform float glTime;
                in vec2 glUV;
                out vec4 fragColor;
                void main() {
                    vec3 col = 0.5 + 0.5 * cos(glTime * 0.001 + glUV.xyx + vec3(0,2,4));
                    fragColor = vec4(col, 1.0);
                }
            `);
            status.innerHTML += '<p>✓ Created shader</p>';
            
            // Set output
            gl.output(shader);
            status.innerHTML += '<p>✓ Set output</p>';
            
            // Start rendering
            gl.render();
            status.innerHTML += '<p>✓ Started render loop</p>';
            
        } catch (error) {
            status.innerHTML += `<p style="color: red;">✗ Error: ${error.message}</p>`;
            console.error(error);
        }
    </script>
</body>
</html>